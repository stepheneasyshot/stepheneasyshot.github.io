---
layout: post
description: > 
  介绍了JNI开发的一般流程，以及基础性的知识储备。
image: 
  path: /assets/img/blog/blogs_jni.png
  srcset: 
    1920w: /assets/img/blog/blogs_jni.png
    960w:  /assets/img/blog/blogs_jni.png
    480w:  /assets/img/blog/blogs_jni.png
accent_image: /assets/img/blog/blogs_jni.png
excerpt_separator: <!--more-->
sitemap: false
---
# JNI开发
## 官方文档

[Google官方JNI文档](https://developer.android.com/ndk/guides?hl=zh-cn)

## 新的接口开发全部使用cmake来构建
Android Studio 编译原生库的默认构建工具是 CMake。由于很多现有项目都使用 ndk-build 构建工具包，因此 Android Studio 也支持 ndk-build。不过，如果您要创建新的原生库，则应使用 CMake。
相比之前的ndk-build的配置方式，使用cmake可以省略掉.h文件声明和android.mk文件来辅助构建，只需要一个CMakeList.txt即可。
开发流程：
1. Java/Kotlin代码里创建好需要的native方法，注意在Cpp文件中对方法名有明确要求。

```
package com.stephen.jnitest

object JniUtils {

   fun init() {
        System.loadLibrary("jni-test")
    }

    external fun hello(): String
}
```