---
layout: post
description: > 
  本文介绍了桌面系统上的一些操作记录，环境配置等，供日后查看
image: 
  path: /assets/img/blog/blog_three_desktop_system_cover.png
  srcset: 
    1920w: /assets/img/blog/blog_three_desktop_system_cover.png
    960w:  /assets/img/blog/blog_three_desktop_system_cover.png
    480w:  /assets/img/blog/blog_three_desktop_system_cover.png
accent_image: /assets/img/blog/blog_three_desktop_system_cover.png
excerpt_separator: <!--more-->
sitemap: false
---
# Desktop系统环境适配等操作记录
重装系统特别多，有时候一些环境配置或者系统设置操作容易忘记，又要重新搜集，在此文作记录。
## Windows文件资源管理器六个文件夹删除
文件资源管理器侧边栏的几个文件夹，在选取文件和查看时，占用很多不必要的空间，我希望需要选取资源的文件夹都放在快速访问里就够了。

![](/assets/img/blog/blogs_windows_file_manager_sidebar.png)

通过删除注册表（运行regedit打开）把这几个文件夹的显示删除掉：

1、注册表路径：

```
HKEY_LOCAL_MACHINE
|-SOFTWARE
|-Microsoft
|-Windows
|-CurrentVersion
|-Explorer
|-MyComputer
|-NameSpace
```

2、找到相应的键值进行删除操作（删除之前先做好备份）：

```
1）删除【下载】文件夹： {088e3905-0323-4b02-9826-5d99428e115f}

2）删除【图片】文件夹： {24ad3ad4-a569-4530-98e1-ab02f9417aa8}

3）删除【音乐】文件夹： {3dfdf296-dbec-4fb4-81d1-6a3438bcf4de}

4）删除【文档】文件夹： {d3162b92-9365-467a-956b-92703aca08af}

5）删除【视频】文件夹： {f86fa3ab-70d2-4fc7-9c99-fcbf05467f3a}

6）删除【桌面】文件夹： {B4BFCC3A-DB2C-424C-B029-7FE99A87C641}

7）删除【3D对象】文件夹： {0DB7E03F-FC29-4DC6-9020-FF41B59E513A}
```

删除完成之后，通过任务管理器重启文件资源管理器即可生效：

![](/assets/img/blog/blogs_windows_file_manager_deleted.png)

---

## Windows安装ubuntu子系统
1. 控制面板，最后一个程序模块，启用功能，打开勾选Hyper-V和适用于windows的linux子系统这两个选项
2. 重启Windows电脑
3. 微软商店里搜索Ununtu，下载安装
4. 运行安装好的Ubuntu子系统，等待初始化即可

Windows和Ubuntu的共享文件系统，可以访问 `mnt` 路径：

```
stephen@DESKTOP-PA80G1H:~$ cd /mnt/e/Dev/Android
stephen@DESKTOP-PA80G1H:/mnt/e/Dev/Android$ ls
CommonDebugDemo  JniDemo  NetDataDemo  SmolChat-Android  gallery
```

可以进行文件的复制操作，在mnt下直接操作会有很严重的IO损耗，最好复制到ubuntu内部路径再使用。

---

## pip换依赖源
### python和pip环境变量地址
python主程序安装后，地址加入PATH才可以在cmd里随处使用：

```
E:\Env\python\python3135
```

pip包管理器其实就在Scripts路径下：

```
E:\Env\python\python3135\Scripts
```

要更换 pip 的package软件源，可以按照以下步骤进行：
### 临时换源
在安装包时使用 -i 参数，例如：
清华源：

```
pip install 包名 -i https://pypi.tuna.tsinghua.edu.cn/simple
```

阿里源：

```
pip install 包名 -i https://mirrors.aliyun.com/pypi/simple
```

### 永久换源
使用以下命令设置全局源：
清华源：

```
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
```

阿里源：

```
pip config set global.index-url https://mirrors.aliyun.com/pypi/simple
```

恢复默认源：使用命令 pip config unset global.index-url

通过更换源，可以显著提高安装 Python 包的速度。

---

## Windows文件共享
选取要共享的文件夹，右键查看属性：

![](/assets/img/blog/blogs_windows_file_share_1.jpg){:width="300px" height="500px"}

点击高级共享，勾选“共享此文件夹”，然后点击“权限”。

确保“Everyone”用户或特定用户的权限已设置为“读取”或“完全控制”。

点击“确定”保存。

回到“属性”窗口，切换到“安全”选项卡。

![](/assets/img/blog/blogs_windows_file_share_2.jpg){:width="300px" height="500px"}

这里是非常关键的一步：安全设置也必须给予相应的权限。点击“编辑”，然后点击“添加”。

在输入框中输入“Everyone”，然后点击“检查名称”，再点击“确定”。

为“Everyone”用户设置相应的权限，例如“完全控制”。

点击“确定”保存所有更改。

检查网络共享中心的设置，专用，公用，所有的都开启网路共享

![](/assets/img/blog/blogs_windows_file_share_3.jpg)

最后查看四个关键服务是否启动。某些 Windows 服务必须运行，才能确保网络发现和共享功能正常工作。

1.  按 `Win + R`，输入 `services.msc`，然后按回车。
2.  在服务列表中，找到以下几项，确保它们的**启动类型**设置为“**自动**”，并且**状态**是“**正在运行**”：
    * **Function Discovery Provider Host**
    * **Function Discovery Resource Publication**
    * **Server**
    * **TCP/IP NetBIOS Helper**
3.  如果某个服务没有运行，双击它，将启动类型改为“自动”，然后点击“启动”按钮。

完成以上步骤后，重启你的电脑，再尝试从另一台电脑访问共享内容。通常，经过这几个步骤，问题都能得到解决。如果问题依旧，你可以在另一台电脑的“文件资源管理器”地址栏中直接输入共享电脑的 IP 地址来尝试连接，例如 `\\192.168.1.100`。

---

## Ubuntu22换源
### 临时换源
在安装包时使用 -i 参数，例如：
清华源：

```
sudo apt install 包名 -i https://mirrors.tuna.tsinghua.edu.cn/ubuntu/
```
### 永久换源
编辑 `/etc/apt/sources.list` 文件，将其中的源地址替换为清华源或阿里源。
```bash
sudo nano /etc/apt/sources.list
```
将文件内容替换为以下内容（清华源）：

```
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse
```
保存并退出编辑器（在 nano 中，按 `Ctrl + O` 保存，然后按 `Ctrl + X` 退出）。
然后更新软件包列表：

```bash
sudo apt update
sudo apt upgrade
```

### Ubuntu24换源
24和之前的有些区别。Ubuntu24.04的源地址配置文件发生改变，不再使用以前的sources.list文件，升级24.04之后，而是使用如下文件：

```bash
/etc/apt/sources.list.d/ubuntu.sources
```

1. 备份源配置文件

```bash
sudo cp /etc/apt/sources.list.d/ubuntu.sources  /etc/apt/sources.list.d/ubuntu.sources.bak
```

2. 编辑源配置文件

```bash
sudo vim /etc/apt/sources.list.d/ubuntu.sources
```

3.使用dd将原本内容删除，然后添加以下新的源。清华源

```bash
Types: deb
URIs: http://mirrors.tuna.tsinghua.edu.cn/ubuntu/
Suites: noble noble-updates noble-security
Components: main restricted universe multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg
```

4. 更新

```bash
sudo apt-get update
```

三、其它源
1、中科大

```bash
Types: deb
URIs: http://mirrors.ustc.edu.cn/ubuntu/
Suites: noble noble-updates noble-security
Components: main restricted universe multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg
```

2、阿里

```bash
Types: deb
URIs: http://mirrors.aliyun.com/ubuntu/
Suites: noble noble-updates noble-security
Components: main restricted universe multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gpg
```

3、网易

```bash
Types: deb
URIs: http://mirrors.163.com/ubuntu/
Suites: noble noble-updates noble-security
Components: main restricted universe multiverse
Signed-By: /usr/share/keyrings/ubuntu-archive-keyring.gp
```

--- 

## Windows设置一个exe开机自启动
这是最直接、最通用的方法。同时按下 Win + R 键，打开“运行”对话框。

输入 `shell:startup` 然后点击“确定”。这会打开当前用户的“启动”文件夹。

找到你想要开机自启的应用程序的 快捷方式，然后将它拖拽到这个“启动”文件夹中。

提示: 如果你的应用没有快捷方式，通常可以在开始菜单中找到它，然后右键点击，选择“更多” -> “打开文件位置”，在那里你可以找到快捷方式。如果还是找不到，你也可以自己创建快捷方式。

--- 

## Windows配置C++开发环境
### 下载MSYS2
在[MSYS2官网](https://www.msys2.org/)下载最新版本的安装包。
### 安装MSYS2
运行下载的安装包，按照提示完成安装。建议安装在默认路径 `C:\msys64`。
### 更新MSYS2
安装完MSYS2后，发现里面的环境目录都是空白的。

打开MSYS2 MINGW64终端，运行以下命令更新系统和软件包：

```bash
pacman -Syu
```

如果提示需要重启MSYS2终端，请关闭当前终端并重新打开。

### 安装开发工具
安装常用的开发工具和库，可以使用以下命令：

```bash
pacman -S --needed base-devel mingw-w64-ucrt-x86_64-toolchain
```

这将安装基本的开发工具和mingw-w64编译器。
### 配置环境变量
在MSYS2安装目录下找到 `ucrt64` 的路径，通常是：

```
D:\Program Files\MSYS2\ucrt64\bin
```

将这个路径添加到系统的PATH环境变量中。

### 重启VSCODE
重启完毕打开cpp文件编辑界面，按F5，选择C++(GDB/LLDB)，会自动生成launch.json文件。

然后点击右上角运行，即可编译运行C++程序。

---

## Python 转换md文件为pdf
使用pypandoc库。

### 安装pandoc


在[Pandoc官网](https://pandoc.org/installing.html)下载最新版本的安装包。

### 安装MikTeX

在[MikTeX官网](https://miktex.org/download)下载最新版本的安装包。

可能需要配置环境变量

### python脚本

```python
import pypandoc
import os


def markdown_to_pdf(input_md_file, output_pdf_file):
    """
    将 Markdown 文件转换为 PDF 文件。

    参数:
    input_md_file (str): 输入的 Markdown 文件路径。
    output_pdf_file (str): 输出的 PDF 文件路径。
    """
    if not os.path.exists(input_md_file):
        print(f"错误：找不到文件 '{input_md_file}'")
        return

    try:
        # 使用 pypandoc 将 Markdown 转换为 PDF
        pypandoc.convert_file(input_md_file, 'pdf', outputfile=output_pdf_file)
        print(f"成功将 '{input_md_file}' 转换为 '{output_pdf_file}'")
    except Exception as e:
        print(f"转换过程中发生错误: {e}")


if __name__ == "__main__":
    # 指定你的输入和输出文件路径
    input_file = "C:\\Users\\zhanf\\Desktop\\tesettestsetes.md"  # 替换成你的Markdown文件路径
    output_file = "C:\\Users\\zhanf\\Desktop\\OUTPUT_PDF_FILE.pdf"  # 替换成你想要的PDF文件路径

    markdown_to_pdf(input_file, output_file)
```

运行过程中，可能会自动安装一些宏包，一路点安装即可。最后会生成pdf文件。

目前貌似不兼容中文。

---

